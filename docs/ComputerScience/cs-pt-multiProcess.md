---
layout: default
title: 멀티프로세스(Multi-process)
parent: 프로세스와 쓰레드
grand_parent: 컴퓨터공학(Computer Science)
nav_order: 4
---

{: .no_toc }
<details open markdown="block">
  <summary>
    Table of contents
  </summary>
  {: .text-delta }
- TOC
{:toc}
</details>

---

# 멀티 프로세스(Multi-process)
> 2 개 이상의 프로세스가 동시에 실행되는 것을 말합니다.

멀티 프로세스 환경에서는 여러 프로세스들이 각자의 메모리 영역을 가지고 메모리에 적재되며,
운영체제는 스케쥴러를 사용해 메모리에 적재된 프로세드들에게 CPU를 할당합니다.
CPU의 속도는 매우 빠르기 때문에 여러 프로세스들을 작은 단위로 나누어 번갈아 실행시킵니다.
이를 `시분할(Time Sharing System)`이라고 부릅니다.

## 컨택스트(Context)
컨택스트는 프로세스의 실행 상태를 나타내는 정보이며, 프로세스가 생성될때 만들어집니다.
프로그램카운터(PC), 레지스터 값, 스택포인터(SP), cpu 상태 등을 포함하고 있습니다.

## PCB
프로세스 정보를 표현한 자료구조입니다.
컨택스트의 정보를 포함하고 있고, 보호된 메모리 영역(커널) 에 저장 됩니다.
운영체제는 프로세스를 관리하기 위해 PCB 의 정보를 참조합니다.

- 프로세스 상태
- 프로세스 번호
- 프로세스 카운터(PC)
- 레지스터
- 프로세스 메모리 범위

## 스케쥴러
스케쥴러는 PCB 에서 프로세스의 정보를 참조하고 평하가여 CPU 할당을 결정하는 알고리즘을 선택하여 실행합니다.
* 알고리즘 종류: 우선순위 기반, 라운드 로빈, 최단 작업 우선, 다중 큐, 다중 레벨 피디백 큐 등 다양한 알고리즘이 있습니다.

## 컨택스트 스위칭(Context Switching)

> 프로세스A -> 프로세스B

컨택스트 스위칭은 현재 실행 중인 프로세스A를 중지하고,
다음으로 실행할 프로세스B에 CPU를 할당해 주는 것을 말합니다.

컨택스트 스위칭을 위해 현재 프로세스A의 컨택스트를 PCB(A) 에 저장하고,
프로세스B를 실행시키기 위해 PCB(B)에서 컨택스트 정보를 조회합니다.


---

## 컨택스트와 PCB 의 차이

### 정의와 용도
#### 컨택스트
컨택스트는 실행 중인 프로세스 또는 쓰레드의 실행 상태를 나타내는 정보의 집합입니다.
컨텍스트는 프로세스나 스레드의 실행을 일시 중지하고 다시 재개할 때 필요한 상태 정보를 기록하고 저장하는데 사용됩니다.
#### PCB
PCB 는 운영체제에 의해 생성되고 관리되는 프로세스, 쓰레드에 대한 정보를 저장하는 데이터 구조입니다.
PCB 는 프로세스나 스레드의 식별 및 제어에 사용되며, 운영체제가 프로세스/쓰레드의 실행을 관리하는 데 필요한 중요한 정보를 저장합니다.

### 저장되는 정보
#### 컨텍스트
컨텍스트는 실행중인 프로세스/쓰레드의 실행 상태에 관련된 정보를 포함합니다.
이는 레지스터 값, 프로그램 카운터(PC), 스택 포인터(SP), CPU 상태 등을 포함합니다.
### PCB
PCB 는 프로세스/쓰레드와 관련된 다양한 정보를 포함합니다
이는 프로세스/쓰레드의 상태, 우선순위, 스케쥴링 정보, 메모리 할당 정보, 입출력 상태 등과 함께 컨텍스트 정보도 포함됩니다.

### 생성과 관리
#### 컨텍스트
컨텍스트는 프로세스/쓰레드가 실행되는 동안에 현재 상태를 나타내는 정보이므로
컨텍스트 스위칭이 발생할 때마다 저장 및 복원되고, 실행 중인 프로세스/쓰레드의 상태 변화에 따라 업데이트 됩니다.

#### PCB
PCB는 운영체제에 의해 프로세스/쓰레드가 생성될때 생성되고,
해당 프로세스/쓰레드의 실행이 종료될 때 제거됩니다.


PCB는 프로세스/쓰레드에 대한 종합적인 정보를 포함하고 있으며  
컨텍스트는 프로세스/쓰레드의 실행 상태에 대한 정보입니다.